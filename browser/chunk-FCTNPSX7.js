import{k as U,l as q}from"./chunk-S7YCRTGC.js";import"./chunk-Q4G5U6Y7.js";import{$a as f,Ha as $,Ia as j,Ka as g,La as w,Ma as V,Na as n,Oa as a,Sa as O,Ta as _,Ua as v,Va as T,Wa as B,Xa as P,Ya as L,Z as D,Za as A,_a as s,a as F,b as M,bb as N,c as E,d as y,e as R,eb as Q,f as k,ga as b,ha as C,ta as H,va as r}from"./chunk-KRJZ5MGM.js";var z=["ddl"];function G(o,l){if(o&1){let t=O();n(0,"li")(1,"a",6)(2,"div",7)(3,"input",8),_("change",function(u){let p=b(t).$implicit,W=v().$implicit,e=v();return C(e.check(p,W,u.target))}),a(),n(4,"label",9),s(5),a()()()()}if(o&2){let t=l.$implicit,d=l.$index,u=v().$index;r(3),T("id","ck-",u,"-",d,""),j("checked",!0),r(),T("for","ck-",u,"-",d,""),r(),f(t)}}function J(o,l){if(o&1){let t=O();n(0,"th")(1,"div",4),_("click",function(){b(t);let u=A(4),p=v();return C(p.toggleFilter(u))}),s(2),a(),n(3,"ul",5,0),_("mousedown",function(u){return b(t),C(u.stopPropagation())}),w(5,G,6,8,"li",null,g),a()()}if(o&2){let t=l.$implicit;r(2),f(t.name),r(3),V(t.ddl)}}function K(o,l){if(o&1&&(n(0,"tr")(1,"td"),s(2),a(),n(3,"td"),s(4),a(),n(5,"td"),s(6),a(),n(7,"td"),s(8),a(),n(9,"td"),s(10),a(),n(11,"td"),s(12),a(),n(13,"td"),s(14),a(),n(15,"td"),s(16),a()()),o&2){let t=l.$implicit;$("class",t.ctrlDisabled?"table-secondary c-disabled":""),r(2),f(t.isEdit),r(2),f(t.isOtherOfficer),r(2),f(t.isOfficerAfter24Hrs),r(2),f(t.currentStatus),r(2),f(t.daysSinceCvirStarted>=15?">= 15":"< 15"),r(2),f(t.verificationStatus),r(2),N("",t.j," [",t.j===0?"Pending":t.j===1?"Not Received":"Received","]"),r(2),f(t.ctrlDisabled?"disabled":"enabled")}}var Z=(()=>{var l,t,d,I;let p=class p{constructor(){y(this,d);y(this,l,void 0);y(this,t,void 0);this.cols=[{name:"isEdit",ddl:[!0,!1],lst:[]},{name:"isOtherOfficer",ddl:[!0,!1],lst:[]},{name:"isOfficerAfter24Hrs",ddl:[!0,!1],lst:[]},{name:"currentStatus",ddl:["OVERDUE","~OVERDUE"],lst:[]},{name:"daysSinceCvirStarted",ddl:[1,15],lst:[]},{name:"verificationStatus",ddl:["Not Received","Pending or Received"],lst:[]},{name:"control of Repair Verification Status",ddl:[0,1,2],lst:[]}].map(e=>M(F({},e),{lst:[...e.ddl]})),this.allTbl=this.cols[0].ddl.flatMap(e=>this.cols[1].ddl.flatMap(i=>this.cols[2].ddl.flatMap(c=>this.cols[6].ddl.flatMap(m=>this.cols[3].ddl.flatMap(h=>this.cols[4].ddl.flatMap(S=>this.cols[5].ddl.map(x=>({isEdit:e,isOtherOfficer:i,isOfficerAfter24Hrs:c,j:m,currentStatus:h,daysSinceCvirStarted:S,verificationStatus:x,ctrlDisabled:null})))))))),this.tfTbl=[],R(this,t,({isEdit:e,isOtherOfficer:i,isOfficerAfter24Hrs:c,j:m,currentStatus:h,daysSinceCvirStarted:S,verificationStatus:x})=>e&&(i||c)&&!(m<2&&h==="OVERDUE"&&S>=15)&&x!=="Not Received"||!(h==="OVERDUE"&&S>=15)&&x==="Not Received"?!0:null),k(this,d,I).call(this)}toggleFilter(e){e.classList.contains("show")?e.classList.remove("show"):(e.classList.add("show"),R(this,l,e))}check(e,i,c){c?.checked?i.lst.push(e):i.lst=i.lst.filter(m=>m!==e),k(this,d,I).call(this)}handleEvent(e){e.stopPropagation(),E(this,l)&&E(this,l).classList.remove("show")}};l=new WeakMap,t=new WeakMap,d=new WeakSet,I=function(){this.tfTbl=this.allTbl.filter(e=>this.cols[0].lst.includes(e.isEdit)&&this.cols[1].lst.includes(e.isOtherOfficer)&&this.cols[2].lst.includes(e.isOfficerAfter24Hrs)&&this.cols[6].lst.includes(e.j)&&this.cols[3].lst.includes(e.currentStatus)&&this.cols[4].lst.includes(e.daysSinceCvirStarted)&&this.cols[5].lst.includes(e.verificationStatus)).map(e=>(e.ctrlDisabled=E(this,t).call(this,e),e))},p.\u0275fac=function(i){return new(i||p)},p.\u0275cmp=D({type:p,selectors:[["ng-component"]],viewQuery:function(i,c){if(i&1&&B(z,5),i&2){let m;P(m=L())&&(c.ddlMenu=m)}},hostBindings:function(i,c){i&1&&_("mousedown",function(h){return c.handleEvent(h)},!1,H)},standalone:!0,features:[Q],decls:12,vars:0,consts:[["ddl",""],[1,"alert","alert-primary"],[1,"table","table-hover"],[1,"table-dark"],[3,"click"],[1,"dropdown-menu",3,"mousedown"],[1,"dropdown-item"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label",2,"display","block",3,"for"]],template:function(i,c){i&1&&(n(0,"h2",1),s(1,"defects -> Repair Verification Status"),a(),n(2,"table",2)(3,"thead",3)(4,"tr"),w(5,J,7,1,"th",null,g),n(7,"th"),s(8,"control available"),a()()(),n(9,"tbody"),w(10,K,17,10,"tr",null,g),a()()),i&2&&(r(5),V(c.cols),r(5),V(c.tfTbl))},dependencies:[U,q],styles:[".c-disabled[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:gray}"]});let o=p;return o})();export{Z as RepairVerificationStatusComponent};
