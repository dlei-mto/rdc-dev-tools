"use strict";(self.webpackChunkrdc_dev_tools=self.webpackChunkrdc_dev_tools||[]).push([[138],{138:(F,f,r)=>{r.r(f),r.d(f,{RepairVerificationStatusComponent:()=>R});var u=r(341),t=r(808);const h=["ddl"];function p(n,c){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",6)(2,"div",7)(3,"input",8),t.bIt("change",function(s){const l=t.eBV(e).$implicit,o=t.XpG().$implicit,a=t.XpG();return t.Njj(a.check(l,o,s.target))}),t.k0s(),t.j41(4,"label",9),t.EFF(5),t.k0s()()()()}if(2&n){const e=c.$implicit,i=c.$index,s=t.XpG().$index;t.R7$(3),t.FCK("id","ck-",s,"-",i,""),t.Y8G("checked",!0),t.R7$(),t.FCK("for","ck-",s,"-",i,""),t.R7$(),t.JRh(e)}}function _(n,c){if(1&n){const e=t.RV6();t.j41(0,"th")(1,"div",4),t.bIt("click",function(){t.eBV(e);const s=t.sdS(4),l=t.XpG();return t.Njj(l.toggleFilter(s))}),t.EFF(2),t.k0s(),t.j41(3,"ul",5,0),t.bIt("mousedown",function(s){return t.eBV(e),t.Njj(s.stopPropagation())}),t.Z7z(5,p,6,8,"li",null,t.fX1),t.k0s()()}if(2&n){const e=c.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(3),t.Dyx(e.ddl)}}function m(n,c){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s()()),2&n){const e=c.$implicit;t.BMQ("class",e.ctrlDisabled?"table-secondary c-disabled":""),t.R7$(2),t.JRh(e.isEdit),t.R7$(2),t.JRh(e.isOtherOfficer),t.R7$(2),t.JRh(e.isOfficerAfter24Hrs),t.R7$(2),t.JRh(e.currentStatus),t.R7$(2),t.JRh(e.daysSinceCvirStarted>=15?">= 15":"< 15"),t.R7$(2),t.JRh(e.verificationStatus),t.R7$(2),t.Lme("",e.j," [",0===e.j?"Pending":1===e.j?"Not Received":"Received","]"),t.R7$(2),t.JRh(e.ctrlDisabled?"disabled":"enabled")}}let R=(()=>{class n{#t;constructor(){this.cols=[{name:"isEdit",ddl:[!0,!1],lst:[]},{name:"isOtherOfficer",ddl:[!0,!1],lst:[]},{name:"isOfficerAfter24Hrs",ddl:[!0,!1],lst:[]},{name:"currentStatus",ddl:["OVERDUE","~OVERDUE"],lst:[]},{name:"daysSinceCvirStarted",ddl:[1,15],lst:[]},{name:"verificationStatus",ddl:["Not Received","Pending or Received"],lst:[]},{name:"control of Repair Verification Status",ddl:[0,1,2],lst:[]}].map(e=>({...e,lst:[...e.ddl]})),this.allTbl=this.cols[0].ddl.flatMap(e=>this.cols[1].ddl.flatMap(i=>this.cols[2].ddl.flatMap(s=>this.cols[6].ddl.flatMap(l=>this.cols[3].ddl.flatMap(o=>this.cols[4].ddl.flatMap(a=>this.cols[5].ddl.map(d=>({isEdit:e,isOtherOfficer:i,isOfficerAfter24Hrs:s,j:l,currentStatus:o,daysSinceCvirStarted:a,verificationStatus:d,ctrlDisabled:null})))))))),this.tfTbl=[],this.#e=({isEdit:e,isOtherOfficer:i,isOfficerAfter24Hrs:s,j:l,currentStatus:o,daysSinceCvirStarted:a,verificationStatus:d})=>!((!e||!i&&!s||l<2&&"OVERDUE"===o&&a>=15||"Not Received"===d)&&("OVERDUE"===o&&a>=15||"Not Received"!==d))||null,this.#i()}toggleFilter(e){e.classList.contains("show")?e.classList.remove("show"):(e.classList.add("show"),this.#t=e)}check(e,i,s){s?.checked?i.lst.push(e):i.lst=i.lst.filter(l=>l!==e),this.#i()}#e;#i(){this.tfTbl=this.allTbl.filter(e=>this.cols[0].lst.includes(e.isEdit)&&this.cols[1].lst.includes(e.isOtherOfficer)&&this.cols[2].lst.includes(e.isOfficerAfter24Hrs)&&this.cols[6].lst.includes(e.j)&&this.cols[3].lst.includes(e.currentStatus)&&this.cols[4].lst.includes(e.daysSinceCvirStarted)&&this.cols[5].lst.includes(e.verificationStatus)).map(e=>(e.ctrlDisabled=this.#e(e),e))}handleEvent(e){e.stopPropagation(),this.#t&&this.#t.classList.remove("show")}static#s=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["ng-component"]],viewQuery:function(i,s){if(1&i&&t.GBs(h,5),2&i){let l;t.mGM(l=t.lsd())&&(s.ddlMenu=l)}},hostBindings:function(i,s){1&i&&t.bIt("mousedown",function(o){return s.handleEvent(o)},!1,t.tSv)},standalone:!0,features:[t.aNF],decls:12,vars:0,consts:[["ddl",""],[1,"alert","alert-primary"],[1,"table","table-hover"],[1,"table-dark"],[3,"click"],[1,"dropdown-menu",3,"mousedown"],[1,"dropdown-item"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label",2,"display","block",3,"for"]],template:function(i,s){1&i&&(t.j41(0,"h2",1),t.EFF(1,"defects -> Repair Verification Status"),t.k0s(),t.j41(2,"table",2)(3,"thead",3)(4,"tr"),t.Z7z(5,_,7,1,"th",null,t.fX1),t.j41(7,"th"),t.EFF(8,"control available"),t.k0s()()(),t.j41(9,"tbody"),t.Z7z(10,m,17,10,"tr",null,t.fX1),t.k0s()()),2&i&&(t.R7$(5),t.Dyx(s.cols),t.R7$(5),t.Dyx(s.tfTbl))},dependencies:[u.YN,u.X1],styles:[".c-disabled[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:gray}"]})}return n})()}}]);